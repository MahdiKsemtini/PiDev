{% extends 'base.html.twig' %}

{% block title %}RightJob{% endblock %}

{% block css %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=9">
    <meta name="description" content="Gambolthemes">
    <meta name="author" content="Gambolthemes">
    <title>Cursus - Create New Course</title>

    <!-- Favicon Icon -->
    <link rel="icon" type="image/png" href="images/fav.png">

    <!-- Stylesheets -->
    <link href={{asset('http://fonts.googleapis.com/css?family=Roboto:400,700,500')}} rel='stylesheet'>
    <link href={{asset('vendor/unicons-2.0.1/css/unicons.css')}} rel='stylesheet'>
    <link href={{asset("css/vertical-responsive-menu1.min.css")}} rel="stylesheet">
    <link href={{asset("css/instructor-dashboard.css")}} rel="stylesheet">
    <link href={{asset("css/instructor-responsive.css")}} rel="stylesheet">
    <link href={{asset("css/night-mode.css")}} rel="stylesheet">
    <link href={{asset("css/jquery-steps.css")}} rel="stylesheet">

    <!-- Vendor Stylesheets -->
    <link href={{asset("vendor/fontawesome-free/css/all.min.css")}} rel="stylesheet">
    <link href={{asset("vendor/OwlCarousel/assets/owl.carousel.css")}} rel="stylesheet">
    <link href={{asset("vendor/OwlCarousel/assets/owl.theme.default.min.css")}} rel="stylesheet">
    <link href={{asset("vendor/bootstrap/css/bootstrap.min.css")}} rel="stylesheet">
    <link rel="stylesheet" type="text/css" href={{asset("vendor/semantic/semantic.min.css")}}>



{% endblock %}

{% block head %}
    <link rel='stylesheet' type='text/css' href='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.6.0/maps/maps.css'/>
    <script src='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.6.0/maps/maps-web.min.js'></script>
{% endblock %}

{% block body %}
    <div class="wrapper">
        <div class="sa4d25">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <h2 class="st_title"><i class="uil uil-analysis"></i> Cr√©er une formation</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="course_tabs_1">
                            <div id="add-course-tab" class="step-app">
                                <ul class="step-steps">
                                    <li class="active">
                                        <a href="#tab_step1">
                                            <span class="number"></span>
                                            <span class="step-name">General Information</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#tab_step2">
                                            <span class="number"></span>
                                            <span class="step-name">Domaine</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#tab_step3">
                                            <span class="number"></span>
                                            <span class="step-name">Date</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#tab_step4">
                                            <span class="number"></span>
                                            <span class="step-name">Extra Information</span>
                                        </a>
                                    </li>
                                </ul>



                                <div class="step-content">
                                    <div class="step-tab-panel step-tab-info active" id="tab_step1">
                                        <div class="tab-from-content">
                                            <div class="title-icon">
                                                <h3 class="title"><i class="uil uil-info-circle"></i>General Information</h3>
                                            </div>
                                            <div class="course__form">
                                                <div class="general_info10">
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6">
                                                            <div class="ui search focus mt-30 lbel25">
                                                                {{ form_start(f) }}

                                                            </div>
                                                        </div>
                                                        <label>Labelle du formation</label>
                                                        <div class="ui left icon input swdh19">
                                                            {{ form_widget(f.Labelle) }}

                                                        </div>
                                                        <div>{{ form_errors(f.Labelle) }}</div>

                                                        <div class="col-lg-6 col-md-6">
                                                            <div class="ui search focus mt-30 lbel25" >
                                                                <label>Lieu du formation</label>
                                                                <div id="lieu">
                                                                    {{ form_widget(f.Lieu) }}

                                                                </div>
                                                                <div>{{ form_errors(f.Lieu) }}</div>
                                                                    {#  <input type="text" id="search_input" placeholder="entrer adresse">#}


                                                                {{ form_widget(f.lng) }}

                                                                {{ form_widget(f.lat) }}



                                                            </div>

                                                        </div>

                                                        <div class="col-lg-12 col-md-12">
                                                            <div class="course_des_textarea mt-30 lbel25">
                                                                <label>Description du formation</label>
                                                                <div class="course_des_bg">
                                                                    <ul class="course_des_ttle">
                                                                        <li><a href="#"><i class="uil uil-bold"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-italic"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-list-ul"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-left-to-right-text-direction"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-right-to-left-text-direction"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-list-ui-alt"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-link"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-text-size"></i></a></li>
                                                                        <li><a href="#"><i class="uil uil-text"></i></a></li>
                                                                    </ul>
                                                                    <div class="textarea_dt">
                                                                        <div class="ui form swdh339">
                                                                            <div class="field">

                                                                                {{ form_widget(f.Description) }}
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>






                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="step-tab-panel step-tab-gallery" id="tab_step2">
                                        <div class="tab-from-content">
                                            <div class="title-icon">
                                                <h3 class="title"><i class="uil uil-image-upload"></i>Domaine</h3>
                                            </div>
                                            <div class="course__form">
                                                <div class="view_info10">
                                                    <div class="row">
                                                        <div class="perso">

                                                            <div class="ui search focus mt-30 lbel25">
                                                                <label>Domaine</label>
                                                                <div class="ui left icon input swdh19 swdh55">
                                                                    {{ form_widget(f.Domaine) }}

                                                                </div>
                                                                <div>{{ form_errors(f.Domaine) }}</div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="step-tab-panel step-tab-location" id="tab_step3">
                                        <div class="tab-from-content">
                                            <div class="title-icon">
                                                <h3 class="title"><i class="uil uil-film"></i>Date</h3>
                                            </div>
                                            <div class="course__form">
                                                <div class="row">
                                                    <div class="col-lg-12">

                                                        <div class="view_info10">
                                                            <div class="row">




                                                                <div class="col-lg-5 col-md-6">
                                                                    <div class="ui search focus mt-30 lbel25">
                                                                        <label>Date Debut</label>
                                                                        <div class="ui left icon input swdh19 swdh55">
                                                                            {{ form_widget(f.DateDebut) }}

                                                                        </div>
                                                                        <div>{{ form_errors(f.DateFin) }}</div>
                                                                    </div>
                                                                </div>



                                                                <div class="col-lg-5 col-md-6">
                                                                    <div class="ui search focus mt-30 lbel25">
                                                                        <label>Date Fin</label>
                                                                        <div class="ui left icon input swdh19 swdh55">
                                                                            {{ form_widget(f.DateFin) }}

                                                                        </div>
                                                                        <div>{{ form_errors(f.DateFin) }}</div>
                                                                    </div>
                                                                </div>



                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>


                                    <div class="step-tab-panel step-tab-amenities" id="tab_step4">
                                        <div class="tab-from-content">
                                            <div class="title-icon">
                                                <h3 class="title"><i class="uil uil-file-copy-alt"></i>Extra Information</h3>
                                            </div>
                                            <div class="course__form">
                                                <div class="view_info10">
                                                <div class="row">
                                                    <div class="perso">

                                                        <div class="ui search focus mt-30 lbel25">
                                                            <label>Montant</label>
                                                                    <div class="ui left icon input swdh19 swdh55">
                                                                        {{ form_widget(f.Montant) }}

                                                                     <div class="badge_min">Dinars</div>
                                                            </div>
                                                            <div>{{ form_errors(f.Montant) }}</div>

                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>







                                </div>
                                <div class="step-footer step-tab-pager">
                                    <button data-direction="prev" class="btn btn-default steps_btn">PREVIOUS</button>
                                    <button data-direction="next" class="btn btn-default steps_btn">Next</button>
                                    <input type="submit" value="Save" name="save" data-direction="finish" class="btn btn-default steps_btn" id="submitB">

                                </div>
                                    {{ form_rest(f) }}
                                    {{ form_end(f) }}

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

{% endblock %}

{% block js %}
    <script src="{{asset('js/vertical-responsive-menu.min.js')}}"></script>
    <script src="{{asset('js/jquery-3.3.1.min.js')}}"></script>
    <script src="{{asset('vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{asset('vendor/OwlCarousel/owl.carousel.js')}}"></script>
    <script src="{{asset('vendor/semantic/semantic.min.js')}}"></script>
    <script src="{{asset('js/custom.js')}}"></script>
    <script src="{{asset('js/night-mode.js')}}"></script>
    <script src="{{asset('js/jquery-steps.min.js')}}"></script>
    <script>
        $('#add-course-tab').steps({
            onFinish: function () {
                alert('Ajout avec succes ');
            }
        });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=0MWBNiAVRIke92CSc6vjYjseKJUmQSLy"></script>

    <script>
        var searchInput='search_input';
        $(document).ready(function (){
            var autocomplete;
            autocomplete = new  google.maps.places.Autocomplete((document.getElementById(searchInput)), {
                types: ['geocode'],
            });
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var near_place = autocomplete.getPlace();
                document.getElementById('latitude_input').value = near_place.geometry.location.lat();
                document.getElementById('longitude_input').value = near_place.geometry.location.lng();

                /*document.getElementById('latitude_view').innerHTML = near_place.geometry.location.lat();
                 document.getElementById('longitude_view').innerHTML = near_place.geometry.location.lng();*/
            });
        })
        $(document).on('change', '#'+searchInput, function () {
            document.getElementById('latitude_input').value = '';
            document.getElementById('longitude_input').value = '';

            /*document.getElementById('latitude_view').innerHTML = '';
            document.getElementById('longitude_view').innerHTML = '';*/
        });
    </script>


    <script src={{ asset('/js/services-web.min.js') }}></script>
    <link rel='stylesheet' type='text/css' href='https://api.tomtom.com/maps-sdk-for-web/cdn/plugins/SearchBox/3.1.3-public-preview.0/SearchBox.css'/>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.1.2-public-preview.15/services/services-web.min.js"></script>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/plugins/SearchBox/3.1.3-public-preview.0/SearchBox-web.js"></script>

    <script>
        var options = {
            searchOptions: {
                key: '0MWBNiAVRIke92CSc6vjYjseKJUmQSLy',
                language: 'en-GB',
                limit: 5
            },
            autocompleteOptions: {
                key: '0MWBNiAVRIke92CSc6vjYjseKJUmQSLy',
                language: 'en-GB'
            }
        };

        var ttSearchBox = new tt.plugins.SearchBox(tt.services, options);
        var searchBoxHTML = ttSearchBox.getSearchBoxHTML();

        document.getElementById("lieu").append(searchBoxHTML);


        ttSearchBox.on('tomtom.searchbox.resultselected', function(data) {
            console.log(data['data']['text']);
            document.getElementById('formation_Lieu').value=data['data']['text'];
            console.log(data['data']['text']);
            var geocodeOptions = {
                query:data['data']['text'],
                key: '0MWBNiAVRIke92CSc6vjYjseKJUmQSLy'
            };
            // Look up the geocode of the given address

            tt.services.geocode(geocodeOptions).then(function (geocodeRes) {
                console.log(geocodeRes['results'][0]['position']);
                document.getElementById('formation_lat').value=geocodeRes['results'][0]['position']['lat']
                document.getElementById('formation_lng').value=geocodeRes['results'][0]['position']['lng']



            });
        });


    </script>


{% endblock %}

